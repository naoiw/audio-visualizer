# Audio Visualizer

ブラウザのタブ共有で取得した音声を、リアルタイムの周波数スペクトラム（FFT）で可視化する Web アプリです。

## 機能

- **タブ音声のキャプチャ**: ブラウザの「画面共有」でタブを選択し、「タブの音声を共有」にチェックを入れると、そのタブの音声（YouTube など）を取得して可視化します。
- **周波数スペクトラム表示**: 横軸に周波数（0 Hz ～ 約 16 kHz）、縦軸に信号強度を表示。バーの色は周波数に応じてグラデーション（HSL）で変化します。
- **リアルタイム描画**: Canvas と `requestAnimationFrame` で連続的に FFT 結果を描画します。

## 技術スタック

- **React 18** + **TypeScript**
- **Vite**（ビルド・開発サーバー）
- **Web Audio API**（`AudioContext`, `AnalyserNode`, `getByteFrequencyData`）
- **getDisplayMedia**（タブ／ウィンドウの画面・音声共有）

## 必要な環境

- モダンブラウザ（Chrome, Edge, Firefox など）で **getDisplayMedia** および **Web Audio API** に対応していること
- HTTPS または localhost（getDisplayMedia はセキュアコンテキストが必要）

## セットアップ・実行

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動（http://localhost:5173 など）
npm run dev

# 本番ビルド
npm run build

# ビルド結果のプレビュー
npm run preview
```

## 使い方

1. 開発サーバーを起動し、表示された URL をブラウザで開く。
2. **「タブの音声をキャプチャ」** ボタンをクリックする。
3. 共有ダイアログで **共有するタブまたはウィンドウ** を選び、**「タブの音声を共有」**（または同等のオプション）にチェックを入れて共有を開始する。
4. キャンバスに周波数スペクトラムがリアルタイムで表示される。
5. 停止する場合は **「停止」** ボタンをクリックする。

音声が共有されていない場合は、エラーメッセージが表示されます。その場合は共有ダイアログで音声共有オプションを有効にしてください。

## 主なパラメータ（コード内）

| 項目 | 値 | 説明 |
|------|-----|------|
| FFT size | 2048 | 周波数分解能（ビン数は 1024） |
| Smoothing | 0.7 | スペクトラムのスムージング係数 |
| 表示上限周波数 | 16000 Hz | 横軸の最大表示周波数 |

## ライセンス

private プロジェクト（`package.json` の `"private": true` に準拠）。
